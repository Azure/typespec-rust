// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use crate::models::{
    AccessTier, AccountKind, ArchiveStatus, BlobAppendBlobClientAppendBlockFromUrlResult,
    BlobAppendBlobClientAppendBlockResult, BlobAppendBlobClientCreateResult,
    BlobAppendBlobClientSealResult, BlobBlobClientAbortCopyFromUrlResult,
    BlobBlobClientAcquireLeaseResult, BlobBlobClientBreakLeaseResult,
    BlobBlobClientChangeLeaseResult, BlobBlobClientCopyFromUrlResult,
    BlobBlobClientCreateSnapshotResult, BlobBlobClientDeleteImmutabilityPolicyResult,
    BlobBlobClientDeleteResult, BlobBlobClientDownloadResult, BlobBlobClientGetAccountInfoResult,
    BlobBlobClientGetPropertiesResult, BlobBlobClientReleaseLeaseResult,
    BlobBlobClientRenewLeaseResult, BlobBlobClientSetExpiryResult,
    BlobBlobClientSetHttpHeadersResult, BlobBlobClientSetImmutabilityPolicyResult,
    BlobBlobClientSetLegalHoldResult, BlobBlobClientSetMetadataResult, BlobBlobClientSetTagsResult,
    BlobBlobClientSetTierResult, BlobBlobClientStartCopyFromUrlResult,
    BlobBlobClientUndeleteResult, BlobBlockBlobClientCommitBlockListResult,
    BlobBlockBlobClientPutBlobFromUrlResult, BlobBlockBlobClientQueryResult,
    BlobBlockBlobClientStageBlockFromUrlResult, BlobBlockBlobClientStageBlockResult,
    BlobBlockBlobClientUploadResult, BlobContainerClientAcquireLeaseResult,
    BlobContainerClientBreakLeaseResult, BlobContainerClientChangeLeaseResult,
    BlobContainerClientCreateResult, BlobContainerClientDeleteResult,
    BlobContainerClientGetAccountInfoResult, BlobContainerClientGetPropertiesResult,
    BlobContainerClientReleaseLeaseResult, BlobContainerClientRenameResult,
    BlobContainerClientRenewLeaseResult, BlobContainerClientRestoreResult,
    BlobContainerClientSetAccessPolicyResult, BlobContainerClientSetMetadataResult,
    BlobContainerClientSubmitBatchResult, BlobImmutabilityPolicyMode,
    BlobPageBlobClientClearPagesResult, BlobPageBlobClientCopyIncrementalResult,
    BlobPageBlobClientCreateResult, BlobPageBlobClientResizeResult,
    BlobPageBlobClientUpdateSequenceNumberResult, BlobPageBlobClientUploadPagesFromUrlResult,
    BlobPageBlobClientUploadPagesResult, BlobServiceClientGetAccountInfoResult,
    BlobServiceClientSetPropertiesResult, BlobServiceClientSubmitBatchResult, BlobTags, BlobType,
    BlockLookupList, CopyStatus, FilterBlobSegment, LeaseState, LeaseStatus,
    ListBlobsFlatSegmentResponse, ListBlobsHierarchySegmentResponse, ListContainersSegmentResponse,
    PageList, PublicAccessType, RehydratePriority, SignedIdentifier, SkuName,
    StorageServiceProperties, StorageServiceStats, UserDelegationKey,
};
use azure_core::{base64, headers::HeaderName, Response, Result};
use std::collections::HashMap;
use std::str::FromStr;

const CONTENTMD5HEADER: HeaderName = HeaderName::from_static("content-md5");
const DATEHEADER: HeaderName = HeaderName::from_static("date");
const ETAGHEADER: HeaderName = HeaderName::from_static("etag");
const LASTMODIFIEDHEADER: HeaderName = HeaderName::from_static("last-modified");
const XMSBLOBAPPENDOFFSETHEADER: HeaderName = HeaderName::from_static("x-ms-blob-append-offset");
const XMSBLOBCOMMITTEDBLOCKCOUNTHEADER: HeaderName =
    HeaderName::from_static("x-ms-blob-committed-block-count");
const XMSCLIENTREQUESTIDHEADER: HeaderName = HeaderName::from_static("x-ms-client-request-id");
const XMSCONTENTCRC64HEADER: HeaderName = HeaderName::from_static("x-ms-content-crc64");
const XMSENCRYPTIONKEYSHA256HEADER: HeaderName =
    HeaderName::from_static("x-ms-encryption-key-sha256");
const XMSENCRYPTIONSCOPEHEADER: HeaderName = HeaderName::from_static("x-ms-encryption-scope");
const XMSREQUESTIDHEADER: HeaderName = HeaderName::from_static("x-ms-request-id");
const XMSREQUESTSERVERENCRYPTEDHEADER: HeaderName =
    HeaderName::from_static("x-ms-request-server-encrypted");
const XMSSTRUCTUREDBODYHEADER: HeaderName = HeaderName::from_static("x-ms-structured-body");
const XMSVERSIONIDHEADER: HeaderName = HeaderName::from_static("x-ms-version-id");
const XMSBLOBSEALEDHEADER: HeaderName = HeaderName::from_static("x-ms-blob-sealed");
const XMSLEASEIDHEADER: HeaderName = HeaderName::from_static("x-ms-lease-id");
const XMSLEASETIMEHEADER: HeaderName = HeaderName::from_static("x-ms-lease-time");
const XMSCOPYIDHEADER: HeaderName = HeaderName::from_static("x-ms-copy-id");
const XMSCOPYSTATUSHEADER: HeaderName = HeaderName::from_static("x-ms-copy-status");
const XMSSNAPSHOTHEADER: HeaderName = HeaderName::from_static("x-ms-snapshot");
const ACCEPTRANGESHEADER: HeaderName = HeaderName::from_static("accept-ranges");
const CACHECONTROLHEADER: HeaderName = HeaderName::from_static("cache-control");
const CONTENTDISPOSITIONHEADER: HeaderName = HeaderName::from_static("content-disposition");
const CONTENTENCODINGHEADER: HeaderName = HeaderName::from_static("content-encoding");
const CONTENTLANGUAGEHEADER: HeaderName = HeaderName::from_static("content-language");
const CONTENTLENGTHHEADER: HeaderName = HeaderName::from_static("content-length");
const CONTENTRANGEHEADER: HeaderName = HeaderName::from_static("content-range");
const XMSBLOBCONTENTMD5HEADER: HeaderName = HeaderName::from_static("x-ms-blob-content-md5");
const XMSBLOBSEQUENCENUMBERHEADER: HeaderName =
    HeaderName::from_static("x-ms-blob-sequence-number");
const XMSBLOBTYPEHEADER: HeaderName = HeaderName::from_static("x-ms-blob-type");
const XMSCOPYCOMPLETIONTIMEHEADER: HeaderName =
    HeaderName::from_static("x-ms-copy-completion-time");
const XMSCOPYPROGRESSHEADER: HeaderName = HeaderName::from_static("x-ms-copy-progress");
const XMSCOPYSOURCEHEADER: HeaderName = HeaderName::from_static("x-ms-copy-source");
const XMSCOPYSTATUSDESCRIPTIONHEADER: HeaderName =
    HeaderName::from_static("x-ms-copy-status-description");
const XMSCREATIONTIMEHEADER: HeaderName = HeaderName::from_static("x-ms-creation-time");
const XMSIMMUTABILITYPOLICYMODEHEADER: HeaderName =
    HeaderName::from_static("x-ms-immutability-policy-mode");
const XMSIMMUTABILITYPOLICYUNTILDATEHEADER: HeaderName =
    HeaderName::from_static("x-ms-immutability-policy-until-date");
const XMSISCURRENTVERSIONHEADER: HeaderName = HeaderName::from_static("x-ms-is-current-version");
const XMSLASTACCESSTIMEHEADER: HeaderName = HeaderName::from_static("x-ms-last-access-time");
const XMSLEASEDURATIONHEADER: HeaderName = HeaderName::from_static("x-ms-lease-duration");
const XMSLEASESTATEHEADER: HeaderName = HeaderName::from_static("x-ms-lease-state");
const XMSLEASESTATUSHEADER: HeaderName = HeaderName::from_static("x-ms-lease-status");
const XMSLEGALHOLDHEADER: HeaderName = HeaderName::from_static("x-ms-legal-hold");
const XMSMETAHEADER: &str = "x-ms-meta-";
const XMSORHEADER: &str = "x-ms-or-";
const XMSORPOLICYIDHEADER: HeaderName = HeaderName::from_static("x-ms-or-policy-id");
const XMSSTRUCTUREDCONTENTLENGTHHEADER: HeaderName =
    HeaderName::from_static("x-ms-structured-content-length");
const XMSTAGCOUNTHEADER: HeaderName = HeaderName::from_static("x-ms-tag-count");
const XMSACCOUNTKINDHEADER: HeaderName = HeaderName::from_static("x-ms-account-kind");
const XMSISHNSENABLEDHEADER: HeaderName = HeaderName::from_static("x-ms-is-hns-enabled");
const XMSSKUNAMEHEADER: HeaderName = HeaderName::from_static("x-ms-sku-name");
const XMSACCESSTIERHEADER: HeaderName = HeaderName::from_static("x-ms-access-tier");
const XMSACCESSTIERCHANGETIMEHEADER: HeaderName =
    HeaderName::from_static("x-ms-access-tier-change-time");
const XMSACCESSTIERINFERREDHEADER: HeaderName =
    HeaderName::from_static("x-ms-access-tier-inferred");
const XMSARCHIVESTATUSHEADER: HeaderName = HeaderName::from_static("x-ms-archive-status");
const XMSCOPYDESTINATIONSNAPSHOTHEADER: HeaderName =
    HeaderName::from_static("x-ms-copy-destination-snapshot");
const XMSEXPIRYTIMEHEADER: HeaderName = HeaderName::from_static("x-ms-expiry-time");
const XMSINCREMENTALCOPYHEADER: HeaderName = HeaderName::from_static("x-ms-incremental-copy");
const XMSREHYDRATEPRIORITYHEADER: HeaderName = HeaderName::from_static("x-ms-rehydrate-priority");
const XMSBLOBCONTENTLENGTHHEADER: HeaderName = HeaderName::from_static("x-ms-blob-content-length");
const XMSBLOBPUBLICACCESSHEADER: HeaderName = HeaderName::from_static("x-ms-blob-public-access");
const XMSDEFAULTENCRYPTIONSCOPEHEADER: HeaderName =
    HeaderName::from_static("x-ms-default-encryption-scope");
const XMSDENYENCRYPTIONSCOPEOVERRIDEHEADER: HeaderName =
    HeaderName::from_static("x-ms-deny-encryption-scope-override");
const XMSHASIMMUTABILITYPOLICYHEADER: HeaderName =
    HeaderName::from_static("x-ms-has-immutability-policy");
const XMSHASLEGALHOLDHEADER: HeaderName = HeaderName::from_static("x-ms-has-legal-hold");
const XMSIMMUTABLESTORAGEWITHVERSIONINGENABLEDHEADER: HeaderName =
    HeaderName::from_static("x-ms-immutable-storage-with-versioning-enabled");

/// Provides access to typed response headers for [`BlobAppendBlobClient::append_block_from_url()`](crate::clients::BlobAppendBlobClient::append_block_from_url())
pub trait BlobAppendBlobClientAppendBlockFromUrlResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_append_offset(&self) -> Result<Option<String>>;
    fn blob_committed_block_count(&self) -> Result<Option<i32>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
}

impl BlobAppendBlobClientAppendBlockFromUrlResultHeaders
    for Response<BlobAppendBlobClientAppendBlockFromUrlResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// This response header is returned only for append operations. It returns the offset at which the block was committed, in
    /// bytes.
    fn blob_append_offset(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSBLOBAPPENDOFFSETHEADER))
    }

    /// The number of committed blocks present in the blob. This header is returned only for append blobs.
    fn blob_committed_block_count(&self) -> Result<Option<i32>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCOMMITTEDBLOCKCOUNTHEADER)
        {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobAppendBlobClient::append_block()`](crate::clients::BlobAppendBlobClient::append_block())
pub trait BlobAppendBlobClientAppendBlockResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_append_offset(&self) -> Result<Option<String>>;
    fn blob_committed_block_count(&self) -> Result<Option<i32>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn structured_body_type(&self) -> Result<Option<String>>;
}

impl BlobAppendBlobClientAppendBlockResultHeaders
    for Response<BlobAppendBlobClientAppendBlockResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// This response header is returned only for append operations. It returns the offset at which the block was committed, in
    /// bytes.
    fn blob_append_offset(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSBLOBAPPENDOFFSETHEADER))
    }

    /// The number of committed blocks present in the blob. This header is returned only for append blobs.
    fn blob_committed_block_count(&self) -> Result<Option<i32>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCOMMITTEDBLOCKCOUNTHEADER)
        {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the response body contains a structured message and specifies the message schema version and properties.
    fn structured_body_type(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSTRUCTUREDBODYHEADER))
    }
}

/// Provides access to typed response headers for [`BlobAppendBlobClient::create()`](crate::clients::BlobAppendBlobClient::create())
pub trait BlobAppendBlobClientCreateResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobAppendBlobClientCreateResultHeaders for Response<BlobAppendBlobClientCreateResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobAppendBlobClient::seal()`](crate::clients::BlobAppendBlobClient::seal())
pub trait BlobAppendBlobClientSealResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn is_sealed(&self) -> Result<Option<bool>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobAppendBlobClientSealResultHeaders for Response<BlobAppendBlobClientSealResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// If this blob has been sealed
    fn is_sealed(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSBLOBSEALEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::abort_copy_from_url()`](crate::clients::BlobBlobClient::abort_copy_from_url())
pub trait BlobBlobClientAbortCopyFromUrlResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientAbortCopyFromUrlResultHeaders
    for Response<BlobBlobClientAbortCopyFromUrlResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::acquire_lease()`](crate::clients::BlobBlobClient::acquire_lease())
pub trait BlobBlobClientAcquireLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientAcquireLeaseResultHeaders for Response<BlobBlobClientAcquireLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::break_lease()`](crate::clients::BlobBlobClient::break_lease())
pub trait BlobBlobClientBreakLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_time(&self) -> Result<Option<i32>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientBreakLeaseResultHeaders for Response<BlobBlobClientBreakLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Approximate time remaining in the lease period, in seconds.
    fn lease_time(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASETIMEHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::change_lease()`](crate::clients::BlobBlobClient::change_lease())
pub trait BlobBlobClientChangeLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientChangeLeaseResultHeaders for Response<BlobBlobClientChangeLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::copy_from_url()`](crate::clients::BlobBlobClient::copy_from_url())
pub trait BlobBlobClientCopyFromUrlResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientCopyFromUrlResultHeaders for Response<BlobBlobClientCopyFromUrlResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::create_snapshot()`](crate::clients::BlobBlobClient::create_snapshot())
pub trait BlobBlobClientCreateSnapshotResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn snapshot(&self) -> Result<Option<String>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientCreateSnapshotResultHeaders for Response<BlobBlobClientCreateSnapshotResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Uniquely identifies the snapshot and indicates the snapshot version. It may be used in subsequent requests to access the
    /// snapshot.
    fn snapshot(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSNAPSHOTHEADER))
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::delete_immutability_policy()`](crate::clients::BlobBlobClient::delete_immutability_policy())
pub trait BlobBlobClientDeleteImmutabilityPolicyResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientDeleteImmutabilityPolicyResultHeaders
    for Response<BlobBlobClientDeleteImmutabilityPolicyResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::delete()`](crate::clients::BlobBlobClient::delete())
pub trait BlobBlobClientDeleteResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientDeleteResultHeaders for Response<BlobBlobClientDeleteResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::download()`](crate::clients::BlobBlobClient::download())
pub trait BlobBlobClientDownloadResultHeaders: private::Sealed {
    fn accept_ranges(&self) -> Result<Option<String>>;
    fn cache_control(&self) -> Result<Option<String>>;
    fn content_disposition(&self) -> Result<Option<String>>;
    fn content_encoding(&self) -> Result<Option<String>>;
    fn content_language(&self) -> Result<Option<String>>;
    fn content_length(&self) -> Result<Option<i64>>;
    fn content_md5(&self) -> Result<Option<String>>;
    fn content_range(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_committed_block_count(&self) -> Result<Option<i32>>;
    fn blob_content_md5(&self) -> Result<Option<Vec<u8>>>;
    fn is_sealed(&self) -> Result<Option<bool>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn blob_type(&self) -> Result<Option<BlobType>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn copy_completion_time(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_progress(&self) -> Result<Option<String>>;
    fn copy_source(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn copy_status_description(&self) -> Result<Option<String>>;
    fn creation_time(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>>;
    fn immutability_policy_expires_on(&self) -> Result<Option<String>>;
    fn is_current_version(&self) -> Result<Option<bool>>;
    fn last_accessed(&self) -> Result<Option<String>>;
    fn duration(&self) -> Result<Option<i32>>;
    fn lease_state(&self) -> Result<Option<LeaseState>>;
    fn lease_status(&self) -> Result<Option<LeaseStatus>>;
    fn legal_hold(&self) -> Result<Option<bool>>;
    fn metadata(&self) -> Result<HashMap<String, String>>;
    fn object_replication_rules(&self) -> Result<HashMap<String, String>>;
    fn object_replication_policy_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn structured_body_type(&self) -> Result<Option<String>>;
    fn structured_content_length(&self) -> Result<Option<i64>>;
    fn tag_count(&self) -> Result<Option<i64>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientDownloadResultHeaders for Response<BlobBlobClientDownloadResult> {
    /// Indicates that the service supports requests for partial blob content.
    fn accept_ranges(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ACCEPTRANGESHEADER))
    }

    /// This header is returned if it was previously specified for the blob.
    fn cache_control(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CACHECONTROLHEADER))
    }

    /// This header returns the value that was specified for the 'x-ms-blob-content-disposition' header. The Content-Disposition
    /// response header field conveys additional information about how to process the response payload, and also can be used to
    /// attach additional metadata. For example, if set to attachment, it indicates that the user-agent should not display the
    /// response, but instead show a Save As dialog with a filename other than the blob name specified.
    fn content_disposition(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&CONTENTDISPOSITIONHEADER))
    }

    /// This header returns the value that was specified for the Content-Encoding request header
    fn content_encoding(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTENCODINGHEADER))
    }

    /// This header returns the value that was specified for the Content-Language request header.
    fn content_language(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTLANGUAGEHEADER))
    }

    /// The number of bytes present in the response body.
    fn content_length(&self) -> Result<Option<i64>> {
        match self.headers().get_optional_string(&CONTENTLENGTHHEADER) {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// Indicates the range of bytes returned in the event that the client requested a subset of the blob by setting the 'Range'
    /// request header.
    fn content_range(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTRANGEHEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The number of committed blocks present in the blob. This header is returned only for append blobs.
    fn blob_committed_block_count(&self) -> Result<Option<i32>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCOMMITTEDBLOCKCOUNTHEADER)
        {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn blob_content_md5(&self) -> Result<Option<Vec<u8>>> {
        match self.headers().get_optional_string(&XMSBLOBCONTENTMD5HEADER) {
            Some(v) => Ok(Some(base64::decode(v)?)),
            None => Ok(None),
        }
    }

    /// If this blob has been sealed
    fn is_sealed(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSBLOBSEALEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The type of the blob.
    fn blob_type(&self) -> Result<Option<BlobType>> {
        match self.headers().get_optional_string(&XMSBLOBTYPEHEADER) {
            Some(v) => Ok(Some(BlobType::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// Conclusion time of the last attempted Copy Blob operation where this blob was the destination blob. This value can specify
    /// the time of a completed, aborted, or failed copy attempt. This header does not appear if a copy is pending, if this blob
    /// has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded Copy Blob
    /// operation using Set Blob Properties, Put Blob, or Put Block List.
    fn copy_completion_time(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYCOMPLETIONTIMEHEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// Contains the number of bytes copied and the total bytes in the source in the last attempted Copy Blob operation where
    /// this blob was the destination blob. Can show between 0 and Content-Length bytes copied. This header does not appear if
    /// this blob has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded
    /// Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_progress(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYPROGRESSHEADER))
    }

    /// URL up to 2 KB in length that specifies the source blob or file used in the last attempted Copy Blob operation where this
    /// blob was the destination blob. This header does not appear if this blob has never been the destination in a Copy Blob
    /// operation, or if this blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob,
    /// or Put Block List.
    fn copy_source(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYSOURCEHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Only appears when x-ms-copy-status is failed or pending. Describes the cause of the last fatal or non-fatal copy operation
    /// failure. This header does not appear if this blob has never been the destination in a Copy Blob operation, or if this
    /// blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_status_description(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYSTATUSDESCRIPTIONHEADER))
    }

    /// Returns the date and time the blob was created.
    fn creation_time(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCREATIONTIMEHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// Indicates the immutability policy mode of the blob.
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>> {
        match self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYMODEHEADER)
        {
            Some(v) => Ok(Some(BlobImmutabilityPolicyMode::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// UTC date/time value generated by the service that indicates the time at which the blob immutability policy will expire.
    fn immutability_policy_expires_on(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYUNTILDATEHEADER))
    }

    /// The value of this header indicates whether version of this blob is a current version, see also x-ms-version-id header.
    fn is_current_version(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSISCURRENTVERSIONHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// UTC date/time value generated by the service that indicates the time at which the blob was last read or written to
    fn last_accessed(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLASTACCESSTIMEHEADER))
    }

    /// Specifies the duration of the lease, in seconds, or negative one (-1) for a lease that never expires. A non-infinite lease
    /// can be between 15 and 60 seconds. A lease duration cannot be changed using renew or change.
    fn duration(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASEDURATIONHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Lease state of the blob.
    fn lease_state(&self) -> Result<Option<LeaseState>> {
        match self.headers().get_optional_string(&XMSLEASESTATEHEADER) {
            Some(v) => Ok(Some(LeaseState::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The lease status of the blob.
    fn lease_status(&self) -> Result<Option<LeaseStatus>> {
        match self.headers().get_optional_string(&XMSLEASESTATUSHEADER) {
            Some(v) => Ok(Some(LeaseStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Specifies the legal hold status to set on the blob.
    fn legal_hold(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSLEGALHOLDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The metadata headers.
    fn metadata(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSMETAHEADER.len() && name.starts_with(XMSMETAHEADER) {
                values.insert(
                    name[XMSMETAHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// Optional. Only valid when Object Replication is enabled for the storage container and on the source blob of the replication.
    /// When retrieving this header, it will return the header with the policy id and rule id (e.g. x-ms-or-policyid_ruleid),
    /// and the value will be the status of the replication (e.g. complete, failed).
    fn object_replication_rules(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSORHEADER.len() && name.starts_with(XMSORHEADER) {
                values.insert(
                    name[XMSORHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// Optional. Only valid when Object Replication is enabled for the storage container and on the destination blob of the replication.
    fn object_replication_policy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSORPOLICYIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the response body contains a structured message and specifies the message schema version and properties.
    fn structured_body_type(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSTRUCTUREDBODYHEADER))
    }

    /// The length of the blob/file content inside the message body when the response body is returned as a structured message.
    /// Will always be smaller than Content-Length.
    fn structured_content_length(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSSTRUCTUREDCONTENTLENGTHHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The number of tags associated with the blob
    fn tag_count(&self) -> Result<Option<i64>> {
        match self.headers().get_optional_string(&XMSTAGCOUNTHEADER) {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::get_account_info()`](crate::clients::BlobBlobClient::get_account_info())
pub trait BlobBlobClientGetAccountInfoResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn account_kind(&self) -> Result<Option<AccountKind>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn sku_name(&self) -> Result<Option<SkuName>>;
}

impl BlobBlobClientGetAccountInfoResultHeaders for Response<BlobBlobClientGetAccountInfoResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// Identifies the account kind
    fn account_kind(&self) -> Result<Option<AccountKind>> {
        match self.headers().get_optional_string(&XMSACCOUNTKINDHEADER) {
            Some(v) => Ok(Some(AccountKind::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Version 2019-07-07 and newer. Indicates if the account has a hierarchical namespace enabled.
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSISHNSENABLEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// Identifies the sku name of the account
    fn sku_name(&self) -> Result<Option<SkuName>> {
        match self.headers().get_optional_string(&XMSSKUNAMEHEADER) {
            Some(v) => Ok(Some(SkuName::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::get_properties()`](crate::clients::BlobBlobClient::get_properties())
pub trait BlobBlobClientGetPropertiesResultHeaders: private::Sealed {
    fn accept_ranges(&self) -> Result<Option<String>>;
    fn cache_control(&self) -> Result<Option<String>>;
    fn content_disposition(&self) -> Result<Option<String>>;
    fn content_encoding(&self) -> Result<Option<String>>;
    fn content_language(&self) -> Result<Option<String>>;
    fn content_length(&self) -> Result<Option<i64>>;
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn tier(&self) -> Result<Option<AccessTier>>;
    fn access_tier_change_time(&self) -> Result<Option<String>>;
    fn access_tier_inferred(&self) -> Result<Option<bool>>;
    fn archive_status(&self) -> Result<Option<ArchiveStatus>>;
    fn blob_committed_block_count(&self) -> Result<Option<i32>>;
    fn is_sealed(&self) -> Result<Option<bool>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn blob_type(&self) -> Result<Option<BlobType>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn copy_completion_time(&self) -> Result<Option<String>>;
    fn destination_snapshot(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_progress(&self) -> Result<Option<String>>;
    fn copy_source(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn copy_status_description(&self) -> Result<Option<String>>;
    fn creation_time(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn expires_on(&self) -> Result<Option<String>>;
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>>;
    fn immutability_policy_expires_on(&self) -> Result<Option<String>>;
    fn is_incremental_copy(&self) -> Result<Option<bool>>;
    fn is_current_version(&self) -> Result<Option<bool>>;
    fn last_accessed(&self) -> Result<Option<String>>;
    fn duration(&self) -> Result<Option<i32>>;
    fn lease_state(&self) -> Result<Option<LeaseState>>;
    fn lease_status(&self) -> Result<Option<LeaseStatus>>;
    fn legal_hold(&self) -> Result<Option<bool>>;
    fn metadata(&self) -> Result<HashMap<String, String>>;
    fn object_replication_rules(&self) -> Result<HashMap<String, String>>;
    fn object_replication_policy_id(&self) -> Result<Option<String>>;
    fn rehydrate_priority(&self) -> Result<Option<RehydratePriority>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn tag_count(&self) -> Result<Option<i64>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientGetPropertiesResultHeaders for Response<BlobBlobClientGetPropertiesResult> {
    /// Indicates that the service supports requests for partial blob content.
    fn accept_ranges(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ACCEPTRANGESHEADER))
    }

    /// This header is returned if it was previously specified for the blob.
    fn cache_control(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CACHECONTROLHEADER))
    }

    /// This header returns the value that was specified for the 'x-ms-blob-content-disposition' header. The Content-Disposition
    /// response header field conveys additional information about how to process the response payload, and also can be used to
    /// attach additional metadata. For example, if set to attachment, it indicates that the user-agent should not display the
    /// response, but instead show a Save As dialog with a filename other than the blob name specified.
    fn content_disposition(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&CONTENTDISPOSITIONHEADER))
    }

    /// This header returns the value that was specified for the Content-Encoding request header
    fn content_encoding(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTENCODINGHEADER))
    }

    /// This header returns the value that was specified for the Content-Language request header.
    fn content_language(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTLANGUAGEHEADER))
    }

    /// The number of bytes present in the response body.
    fn content_length(&self) -> Result<Option<i64>> {
        match self.headers().get_optional_string(&CONTENTLENGTHHEADER) {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The tier to be set on the blob.
    fn tier(&self) -> Result<Option<AccessTier>> {
        match self.headers().get_optional_string(&XMSACCESSTIERHEADER) {
            Some(v) => Ok(Some(AccessTier::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The time the tier was changed on the object. This is only returned if the tier on the block blob was ever set.
    fn access_tier_change_time(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSACCESSTIERCHANGETIMEHEADER))
    }

    /// For page blobs on a premium storage account only. If the access tier is not explicitly set on the blob, the tier is inferred
    /// based on its content length and this header will be returned with true value.
    fn access_tier_inferred(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSACCESSTIERINFERREDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// For blob storage LRS accounts, valid values are rehydrate-pending-to-hot/rehydrate-pending-to-cool. If the blob is being
    /// rehydrated and is not complete then this header is returned indicating that rehydrate is pending and also tells the destination
    /// tier.
    fn archive_status(&self) -> Result<Option<ArchiveStatus>> {
        match self.headers().get_optional_string(&XMSARCHIVESTATUSHEADER) {
            Some(v) => Ok(Some(ArchiveStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The number of committed blocks present in the blob. This header is returned only for append blobs.
    fn blob_committed_block_count(&self) -> Result<Option<i32>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCOMMITTEDBLOCKCOUNTHEADER)
        {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If this blob has been sealed
    fn is_sealed(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSBLOBSEALEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The type of the blob.
    fn blob_type(&self) -> Result<Option<BlobType>> {
        match self.headers().get_optional_string(&XMSBLOBTYPEHEADER) {
            Some(v) => Ok(Some(BlobType::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Conclusion time of the last attempted Copy Blob operation where this blob was the destination blob. This value can specify
    /// the time of a completed, aborted, or failed copy attempt. This header does not appear if a copy is pending, if this blob
    /// has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded Copy Blob
    /// operation using Set Blob Properties, Put Blob, or Put Block List.
    fn copy_completion_time(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYCOMPLETIONTIMEHEADER))
    }

    /// Included if the blob is incremental copy blob or incremental copy snapshot, if x-ms-copy-status is success. Snapshot time
    /// of the last successful incremental copy snapshot for this blob.
    fn destination_snapshot(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYDESTINATIONSNAPSHOTHEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// Contains the number of bytes copied and the total bytes in the source in the last attempted Copy Blob operation where
    /// this blob was the destination blob. Can show between 0 and Content-Length bytes copied. This header does not appear if
    /// this blob has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded
    /// Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_progress(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYPROGRESSHEADER))
    }

    /// URL up to 2 KB in length that specifies the source blob or file used in the last attempted Copy Blob operation where this
    /// blob was the destination blob. This header does not appear if this blob has never been the destination in a Copy Blob
    /// operation, or if this blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob,
    /// or Put Block List.
    fn copy_source(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYSOURCEHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Only appears when x-ms-copy-status is failed or pending. Describes the cause of the last fatal or non-fatal copy operation
    /// failure. This header does not appear if this blob has never been the destination in a Copy Blob operation, or if this
    /// blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_status_description(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYSTATUSDESCRIPTIONHEADER))
    }

    /// Returns the date and time the blob was created.
    fn creation_time(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCREATIONTIMEHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// The time this blob will expire.
    fn expires_on(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSEXPIRYTIMEHEADER))
    }

    /// Indicates the immutability policy mode of the blob.
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>> {
        match self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYMODEHEADER)
        {
            Some(v) => Ok(Some(BlobImmutabilityPolicyMode::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// UTC date/time value generated by the service that indicates the time at which the blob immutability policy will expire.
    fn immutability_policy_expires_on(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYUNTILDATEHEADER))
    }

    /// Included if the blob is incremental copy blob.
    fn is_incremental_copy(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSINCREMENTALCOPYHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The value of this header indicates whether version of this blob is a current version, see also x-ms-version-id header.
    fn is_current_version(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSISCURRENTVERSIONHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// UTC date/time value generated by the service that indicates the time at which the blob was last read or written to
    fn last_accessed(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLASTACCESSTIMEHEADER))
    }

    /// Specifies the duration of the lease, in seconds, or negative one (-1) for a lease that never expires. A non-infinite lease
    /// can be between 15 and 60 seconds. A lease duration cannot be changed using renew or change.
    fn duration(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASEDURATIONHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Lease state of the blob.
    fn lease_state(&self) -> Result<Option<LeaseState>> {
        match self.headers().get_optional_string(&XMSLEASESTATEHEADER) {
            Some(v) => Ok(Some(LeaseState::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The lease status of the blob.
    fn lease_status(&self) -> Result<Option<LeaseStatus>> {
        match self.headers().get_optional_string(&XMSLEASESTATUSHEADER) {
            Some(v) => Ok(Some(LeaseStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Specifies the legal hold status to set on the blob.
    fn legal_hold(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSLEGALHOLDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The metadata headers.
    fn metadata(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSMETAHEADER.len() && name.starts_with(XMSMETAHEADER) {
                values.insert(
                    name[XMSMETAHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// Optional. Only valid when Object Replication is enabled for the storage container and on the source blob of the replication.
    /// When retrieving this header, it will return the header with the policy id and rule id (e.g. x-ms-or-policyid_ruleid),
    /// and the value will be the status of the replication (e.g. complete, failed).
    fn object_replication_rules(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSORHEADER.len() && name.starts_with(XMSORHEADER) {
                values.insert(
                    name[XMSORHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// Optional. Only valid when Object Replication is enabled for the storage container and on the destination blob of the replication.
    fn object_replication_policy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSORPOLICYIDHEADER))
    }

    /// If an object is in rehydrate pending state then this header is returned with priority of rehydrate. Valid values are High
    /// and Standard.
    fn rehydrate_priority(&self) -> Result<Option<RehydratePriority>> {
        match self
            .headers()
            .get_optional_string(&XMSREHYDRATEPRIORITYHEADER)
        {
            Some(v) => Ok(Some(RehydratePriority::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The number of tags associated with the blob
    fn tag_count(&self) -> Result<Option<i64>> {
        match self.headers().get_optional_string(&XMSTAGCOUNTHEADER) {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::release_lease()`](crate::clients::BlobBlobClient::release_lease())
pub trait BlobBlobClientReleaseLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientReleaseLeaseResultHeaders for Response<BlobBlobClientReleaseLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::renew_lease()`](crate::clients::BlobBlobClient::renew_lease())
pub trait BlobBlobClientRenewLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientRenewLeaseResultHeaders for Response<BlobBlobClientRenewLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_expiry()`](crate::clients::BlobBlobClient::set_expiry())
pub trait BlobBlobClientSetExpiryResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetExpiryResultHeaders for Response<BlobBlobClientSetExpiryResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_http_headers()`](crate::clients::BlobBlobClient::set_http_headers())
pub trait BlobBlobClientSetHttpHeadersResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetHttpHeadersResultHeaders for Response<BlobBlobClientSetHttpHeadersResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_immutability_policy()`](crate::clients::BlobBlobClient::set_immutability_policy())
pub trait BlobBlobClientSetImmutabilityPolicyResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>>;
    fn immutability_policy_expiry(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetImmutabilityPolicyResultHeaders
    for Response<BlobBlobClientSetImmutabilityPolicyResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Indicates the immutability policy mode of the blob.
    fn immutability_policy_mode(&self) -> Result<Option<BlobImmutabilityPolicyMode>> {
        match self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYMODEHEADER)
        {
            Some(v) => Ok(Some(BlobImmutabilityPolicyMode::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the time the immutability policy will expire.
    fn immutability_policy_expiry(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSIMMUTABILITYPOLICYUNTILDATEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_legal_hold()`](crate::clients::BlobBlobClient::set_legal_hold())
pub trait BlobBlobClientSetLegalHoldResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn legal_hold(&self) -> Result<Option<bool>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetLegalHoldResultHeaders for Response<BlobBlobClientSetLegalHoldResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Specifies the legal hold status to set on the blob.
    fn legal_hold(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSLEGALHOLDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_metadata()`](crate::clients::BlobBlobClient::set_metadata())
pub trait BlobBlobClientSetMetadataResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetMetadataResultHeaders for Response<BlobBlobClientSetMetadataResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_tags()`](crate::clients::BlobBlobClient::set_tags())
pub trait BlobBlobClientSetTagsResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetTagsResultHeaders for Response<BlobBlobClientSetTagsResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::set_tier()`](crate::clients::BlobBlobClient::set_tier())
pub trait BlobBlobClientSetTierResultHeaders: private::Sealed {
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientSetTierResultHeaders for Response<BlobBlobClientSetTierResult> {
    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::start_copy_from_url()`](crate::clients::BlobBlobClient::start_copy_from_url())
pub trait BlobBlobClientStartCopyFromUrlResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientStartCopyFromUrlResultHeaders
    for Response<BlobBlobClientStartCopyFromUrlResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::undelete()`](crate::clients::BlobBlobClient::undelete())
pub trait BlobBlobClientUndeleteResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobBlobClientUndeleteResultHeaders for Response<BlobBlobClientUndeleteResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::commit_block_list()`](crate::clients::BlobBlockBlobClient::commit_block_list())
pub trait BlobBlockBlobClientCommitBlockListResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlockBlobClientCommitBlockListResultHeaders
    for Response<BlobBlockBlobClientCommitBlockListResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::put_blob_from_url()`](crate::clients::BlobBlockBlobClient::put_blob_from_url())
pub trait BlobBlockBlobClientPutBlobFromUrlResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlockBlobClientPutBlobFromUrlResultHeaders
    for Response<BlobBlockBlobClientPutBlobFromUrlResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::query()`](crate::clients::BlobBlockBlobClient::query())
pub trait BlobBlockBlobClientQueryResultHeaders: private::Sealed {
    fn accept_ranges(&self) -> Result<Option<String>>;
    fn cache_control(&self) -> Result<Option<String>>;
    fn content_disposition(&self) -> Result<Option<String>>;
    fn content_encoding(&self) -> Result<Option<String>>;
    fn content_language(&self) -> Result<Option<String>>;
    fn content_length(&self) -> Result<Option<i64>>;
    fn content_md5(&self) -> Result<Option<String>>;
    fn content_range(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_committed_block_count(&self) -> Result<Option<i32>>;
    fn blob_content_md5(&self) -> Result<Option<Vec<u8>>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn blob_type(&self) -> Result<Option<BlobType>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn copy_completion_time(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_progress(&self) -> Result<Option<String>>;
    fn copy_source(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn copy_status_description(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn duration(&self) -> Result<Option<i32>>;
    fn lease_state(&self) -> Result<Option<LeaseState>>;
    fn lease_status(&self) -> Result<Option<LeaseStatus>>;
    fn metadata(&self) -> Result<HashMap<String, String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
}

impl BlobBlockBlobClientQueryResultHeaders for Response<BlobBlockBlobClientQueryResult> {
    /// Indicates that the service supports requests for partial blob content.
    fn accept_ranges(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ACCEPTRANGESHEADER))
    }

    /// This header is returned if it was previously specified for the blob.
    fn cache_control(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CACHECONTROLHEADER))
    }

    /// This header returns the value that was specified for the 'x-ms-blob-content-disposition' header. The Content-Disposition
    /// response header field conveys additional information about how to process the response payload, and also can be used to
    /// attach additional metadata. For example, if set to attachment, it indicates that the user-agent should not display the
    /// response, but instead show a Save As dialog with a filename other than the blob name specified.
    fn content_disposition(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&CONTENTDISPOSITIONHEADER))
    }

    /// This header returns the value that was specified for the Content-Encoding request header
    fn content_encoding(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTENCODINGHEADER))
    }

    /// This header returns the value that was specified for the Content-Language request header.
    fn content_language(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTLANGUAGEHEADER))
    }

    /// The number of bytes present in the response body.
    fn content_length(&self) -> Result<Option<i64>> {
        match self.headers().get_optional_string(&CONTENTLENGTHHEADER) {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// Indicates the range of bytes returned in the event that the client requested a subset of the blob by setting the 'Range'
    /// request header.
    fn content_range(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTRANGEHEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The number of committed blocks present in the blob. This header is returned only for append blobs.
    fn blob_committed_block_count(&self) -> Result<Option<i32>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCOMMITTEDBLOCKCOUNTHEADER)
        {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn blob_content_md5(&self) -> Result<Option<Vec<u8>>> {
        match self.headers().get_optional_string(&XMSBLOBCONTENTMD5HEADER) {
            Some(v) => Ok(Some(base64::decode(v)?)),
            None => Ok(None),
        }
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The type of the blob.
    fn blob_type(&self) -> Result<Option<BlobType>> {
        match self.headers().get_optional_string(&XMSBLOBTYPEHEADER) {
            Some(v) => Ok(Some(BlobType::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// Conclusion time of the last attempted Copy Blob operation where this blob was the destination blob. This value can specify
    /// the time of a completed, aborted, or failed copy attempt. This header does not appear if a copy is pending, if this blob
    /// has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded Copy Blob
    /// operation using Set Blob Properties, Put Blob, or Put Block List.
    fn copy_completion_time(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYCOMPLETIONTIMEHEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// Contains the number of bytes copied and the total bytes in the source in the last attempted Copy Blob operation where
    /// this blob was the destination blob. Can show between 0 and Content-Length bytes copied. This header does not appear if
    /// this blob has never been the destination in a Copy Blob operation, or if this blob has been modified after a concluded
    /// Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_progress(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYPROGRESSHEADER))
    }

    /// URL up to 2 KB in length that specifies the source blob or file used in the last attempted Copy Blob operation where this
    /// blob was the destination blob. This header does not appear if this blob has never been the destination in a Copy Blob
    /// operation, or if this blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob,
    /// or Put Block List.
    fn copy_source(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYSOURCEHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Only appears when x-ms-copy-status is failed or pending. Describes the cause of the last fatal or non-fatal copy operation
    /// failure. This header does not appear if this blob has never been the destination in a Copy Blob operation, or if this
    /// blob has been modified after a concluded Copy Blob operation using Set Blob Properties, Put Blob, or Put Block List
    fn copy_status_description(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCOPYSTATUSDESCRIPTIONHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// Specifies the duration of the lease, in seconds, or negative one (-1) for a lease that never expires. A non-infinite lease
    /// can be between 15 and 60 seconds. A lease duration cannot be changed using renew or change.
    fn duration(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASEDURATIONHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Lease state of the blob.
    fn lease_state(&self) -> Result<Option<LeaseState>> {
        match self.headers().get_optional_string(&XMSLEASESTATEHEADER) {
            Some(v) => Ok(Some(LeaseState::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The lease status of the blob.
    fn lease_status(&self) -> Result<Option<LeaseStatus>> {
        match self.headers().get_optional_string(&XMSLEASESTATUSHEADER) {
            Some(v) => Ok(Some(LeaseStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The metadata headers.
    fn metadata(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSMETAHEADER.len() && name.starts_with(XMSMETAHEADER) {
                values.insert(
                    name[XMSMETAHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::stage_block_from_url()`](crate::clients::BlobBlockBlobClient::stage_block_from_url())
pub trait BlobBlockBlobClientStageBlockFromUrlResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
}

impl BlobBlockBlobClientStageBlockFromUrlResultHeaders
    for Response<BlobBlockBlobClientStageBlockFromUrlResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::stage_block()`](crate::clients::BlobBlockBlobClient::stage_block())
pub trait BlobBlockBlobClientStageBlockResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn structured_body_type(&self) -> Result<Option<String>>;
}

impl BlobBlockBlobClientStageBlockResultHeaders for Response<BlobBlockBlobClientStageBlockResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the response body contains a structured message and specifies the message schema version and properties.
    fn structured_body_type(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSTRUCTUREDBODYHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::upload()`](crate::clients::BlobBlockBlobClient::upload())
pub trait BlobBlockBlobClientUploadResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn structured_body_type(&self) -> Result<Option<String>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobBlockBlobClientUploadResultHeaders for Response<BlobBlockBlobClientUploadResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the response body contains a structured message and specifies the message schema version and properties.
    fn structured_body_type(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSTRUCTUREDBODYHEADER))
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::acquire_lease()`](crate::clients::BlobContainerClient::acquire_lease())
pub trait BlobContainerClientAcquireLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientAcquireLeaseResultHeaders
    for Response<BlobContainerClientAcquireLeaseResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::break_lease()`](crate::clients::BlobContainerClient::break_lease())
pub trait BlobContainerClientBreakLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn lease_time(&self) -> Result<Option<i32>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientBreakLeaseResultHeaders for Response<BlobContainerClientBreakLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// Approximate time remaining in the lease period, in seconds.
    fn lease_time(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASETIMEHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::change_lease()`](crate::clients::BlobContainerClient::change_lease())
pub trait BlobContainerClientChangeLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientChangeLeaseResultHeaders
    for Response<BlobContainerClientChangeLeaseResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::create()`](crate::clients::BlobContainerClient::create())
pub trait BlobContainerClientCreateResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientCreateResultHeaders for Response<BlobContainerClientCreateResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::delete()`](crate::clients::BlobContainerClient::delete())
pub trait BlobContainerClientDeleteResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientDeleteResultHeaders for Response<BlobContainerClientDeleteResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::get_account_info()`](crate::clients::BlobContainerClient::get_account_info())
pub trait BlobContainerClientGetAccountInfoResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn account_kind(&self) -> Result<Option<AccountKind>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn sku_name(&self) -> Result<Option<SkuName>>;
}

impl BlobContainerClientGetAccountInfoResultHeaders
    for Response<BlobContainerClientGetAccountInfoResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// Identifies the account kind
    fn account_kind(&self) -> Result<Option<AccountKind>> {
        match self.headers().get_optional_string(&XMSACCOUNTKINDHEADER) {
            Some(v) => Ok(Some(AccountKind::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Version 2019-07-07 and newer. Indicates if the account has a hierarchical namespace enabled.
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSISHNSENABLEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// Identifies the sku name of the account
    fn sku_name(&self) -> Result<Option<SkuName>> {
        match self.headers().get_optional_string(&XMSSKUNAMEHEADER) {
            Some(v) => Ok(Some(SkuName::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::get_properties()`](crate::clients::BlobContainerClient::get_properties())
pub trait BlobContainerClientGetPropertiesResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn access(&self) -> Result<Option<PublicAccessType>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn default_encryption_scope(&self) -> Result<Option<String>>;
    fn prevent_encryption_scope_override(&self) -> Result<Option<bool>>;
    fn has_immutability_policy(&self) -> Result<Option<bool>>;
    fn has_legal_hold(&self) -> Result<Option<bool>>;
    fn is_immutable_storage_with_versioning_enabled(&self) -> Result<Option<bool>>;
    fn duration(&self) -> Result<Option<i32>>;
    fn lease_state(&self) -> Result<Option<LeaseState>>;
    fn lease_status(&self) -> Result<Option<LeaseStatus>>;
    fn metadata(&self) -> Result<HashMap<String, String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientGetPropertiesResultHeaders
    for Response<BlobContainerClientGetPropertiesResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The public access setting for the container.
    fn access(&self) -> Result<Option<PublicAccessType>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBPUBLICACCESSHEADER)
        {
            Some(v) => Ok(Some(PublicAccessType::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The default encryption scope for the container.
    fn default_encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSDEFAULTENCRYPTIONSCOPEHEADER))
    }

    /// If a blob has a lease and the lease is of infinite duration then the value of this header is set to true, otherwise it
    /// is set to false.
    fn prevent_encryption_scope_override(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSDENYENCRYPTIONSCOPEOVERRIDEHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates whether the container has an immutability policy set on it.
    fn has_immutability_policy(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSHASIMMUTABILITYPOLICYHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates whether the container has a legal hold.
    fn has_legal_hold(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSHASLEGALHOLDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates whether version level worm is enabled on a container
    fn is_immutable_storage_with_versioning_enabled(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSIMMUTABLESTORAGEWITHVERSIONINGENABLEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Specifies the duration of the lease, in seconds, or negative one (-1) for a lease that never expires. A non-infinite lease
    /// can be between 15 and 60 seconds. A lease duration cannot be changed using renew or change.
    fn duration(&self) -> Result<Option<i32>> {
        match self.headers().get_optional_string(&XMSLEASEDURATIONHEADER) {
            Some(v) => Ok(Some(i32::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Lease state of the blob.
    fn lease_state(&self) -> Result<Option<LeaseState>> {
        match self.headers().get_optional_string(&XMSLEASESTATEHEADER) {
            Some(v) => Ok(Some(LeaseState::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The lease status of the blob.
    fn lease_status(&self) -> Result<Option<LeaseStatus>> {
        match self.headers().get_optional_string(&XMSLEASESTATUSHEADER) {
            Some(v) => Ok(Some(LeaseStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// The metadata headers.
    fn metadata(&self) -> Result<HashMap<String, String>> {
        let mut values = HashMap::new();
        for h in self.headers().iter() {
            let name = h.0.as_str();
            if name.len() > XMSMETAHEADER.len() && name.starts_with(XMSMETAHEADER) {
                values.insert(
                    name[XMSMETAHEADER.len()..].to_owned(),
                    h.1.as_str().to_owned(),
                );
            }
        }
        Ok(values)
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::release_lease()`](crate::clients::BlobContainerClient::release_lease())
pub trait BlobContainerClientReleaseLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientReleaseLeaseResultHeaders
    for Response<BlobContainerClientReleaseLeaseResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::rename()`](crate::clients::BlobContainerClient::rename())
pub trait BlobContainerClientRenameResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientRenameResultHeaders for Response<BlobContainerClientRenameResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::renew_lease()`](crate::clients::BlobContainerClient::renew_lease())
pub trait BlobContainerClientRenewLeaseResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn lease_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientRenewLeaseResultHeaders for Response<BlobContainerClientRenewLeaseResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Uniquely identifies a blobs' lease
    fn lease_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSLEASEIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::restore()`](crate::clients::BlobContainerClient::restore())
pub trait BlobContainerClientRestoreResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientRestoreResultHeaders for Response<BlobContainerClientRestoreResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::set_access_policy()`](crate::clients::BlobContainerClient::set_access_policy())
pub trait BlobContainerClientSetAccessPolicyResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientSetAccessPolicyResultHeaders
    for Response<BlobContainerClientSetAccessPolicyResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::set_metadata()`](crate::clients::BlobContainerClient::set_metadata())
pub trait BlobContainerClientSetMetadataResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientSetMetadataResultHeaders
    for Response<BlobContainerClientSetMetadataResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::submit_batch()`](crate::clients::BlobContainerClient::submit_batch())
pub trait BlobContainerClientSubmitBatchResultHeaders: private::Sealed {
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobContainerClientSubmitBatchResultHeaders
    for Response<BlobContainerClientSubmitBatchResult>
{
    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::clear_pages()`](crate::clients::BlobPageBlobClient::clear_pages())
pub trait BlobPageBlobClientClearPagesResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientClearPagesResultHeaders for Response<BlobPageBlobClientClearPagesResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::copy_incremental()`](crate::clients::BlobPageBlobClient::copy_incremental())
pub trait BlobPageBlobClientCopyIncrementalResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn copy_id(&self) -> Result<Option<String>>;
    fn copy_status(&self) -> Result<Option<CopyStatus>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientCopyIncrementalResultHeaders
    for Response<BlobPageBlobClientCopyIncrementalResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// String identifier for this copy operation. Use with Get Blob Properties to check the status of this copy operation, or
    /// pass to Abort Copy Blob to abort a pending copy.
    fn copy_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCOPYIDHEADER))
    }

    /// State of the copy operation identified by x-ms-copy-id.
    fn copy_status(&self) -> Result<Option<CopyStatus>> {
        match self.headers().get_optional_string(&XMSCOPYSTATUSHEADER) {
            Some(v) => Ok(Some(CopyStatus::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::create()`](crate::clients::BlobPageBlobClient::create())
pub trait BlobPageBlobClientCreateResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn version_id(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientCreateResultHeaders for Response<BlobPageBlobClientCreateResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// A DateTime value returned by the service that uniquely identifies the blob. The value of this header indicates the blob
    /// version, and may be used in subsequent requests to access this version of the blob.
    fn version_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSVERSIONIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::resize()`](crate::clients::BlobPageBlobClient::resize())
pub trait BlobPageBlobClientResizeResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientResizeResultHeaders for Response<BlobPageBlobClientResizeResult> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::update_sequence_number()`](crate::clients::BlobPageBlobClient::update_sequence_number())
pub trait BlobPageBlobClientUpdateSequenceNumberResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientUpdateSequenceNumberResultHeaders
    for Response<BlobPageBlobClientUpdateSequenceNumberResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::upload_pages_from_url()`](crate::clients::BlobPageBlobClient::upload_pages_from_url())
pub trait BlobPageBlobClientUploadPagesFromUrlResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
}

impl BlobPageBlobClientUploadPagesFromUrlResultHeaders
    for Response<BlobPageBlobClientUploadPagesFromUrlResult>
{
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::upload_pages()`](crate::clients::BlobPageBlobClient::upload_pages())
pub trait BlobPageBlobClientUploadPagesResultHeaders: private::Sealed {
    fn content_md5(&self) -> Result<Option<String>>;
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_sequence_number(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn content_crc64(&self) -> Result<Option<String>>;
    fn encryption_key_sha256(&self) -> Result<Option<String>>;
    fn encryption_scope(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn is_server_encrypted(&self) -> Result<Option<bool>>;
    fn structured_body_type(&self) -> Result<Option<String>>;
}

impl BlobPageBlobClientUploadPagesResultHeaders for Response<BlobPageBlobClientUploadPagesResult> {
    /// If the blob has an MD5 hash and this operation is to read the full blob, this response header is returned so that the
    /// client can check for message content integrity.
    fn content_md5(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&CONTENTMD5HEADER))
    }

    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The current sequence number for a page blob. This header is not returned for block blobs or append blobs.
    fn blob_sequence_number(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBSEQUENCENUMBERHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// This response header is returned so that the client can check for the integrity of the copied content.
    fn content_crc64(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSCONTENTCRC64HEADER))
    }

    /// The SHA-256 hash of the encryption key used to encrypt the blob. This header is only returned when the blob was encrypted
    /// with a customer-provided key.
    fn encryption_key_sha256(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONKEYSHA256HEADER))
    }

    /// If the blob has a MD5 hash, and if request contains range header (Range or x-ms-range), this response header is returned
    /// with the value of the whole blob's MD5 value. This value may or may not be equal to the value returned in Content-MD5
    /// header, with the latter calculated from the requested range
    fn encryption_scope(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSENCRYPTIONSCOPEHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// The value of this header is set to true if the contents of the request are successfully encrypted using the specified
    /// algorithm, and false otherwise.
    fn is_server_encrypted(&self) -> Result<Option<bool>> {
        match self
            .headers()
            .get_optional_string(&XMSREQUESTSERVERENCRYPTEDHEADER)
        {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// Indicates the response body contains a structured message and specifies the message schema version and properties.
    fn structured_body_type(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSSTRUCTUREDBODYHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::get_account_info()`](crate::clients::BlobServiceClient::get_account_info())
pub trait BlobServiceClientGetAccountInfoResultHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn account_kind(&self) -> Result<Option<AccountKind>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>>;
    fn request_id(&self) -> Result<Option<String>>;
    fn sku_name(&self) -> Result<Option<SkuName>>;
}

impl BlobServiceClientGetAccountInfoResultHeaders
    for Response<BlobServiceClientGetAccountInfoResult>
{
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// Identifies the account kind
    fn account_kind(&self) -> Result<Option<AccountKind>> {
        match self.headers().get_optional_string(&XMSACCOUNTKINDHEADER) {
            Some(v) => Ok(Some(AccountKind::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// Version 2019-07-07 and newer. Indicates if the account has a hierarchical namespace enabled.
    fn is_hierarchical_namespace_enabled(&self) -> Result<Option<bool>> {
        match self.headers().get_optional_string(&XMSISHNSENABLEDHEADER) {
            Some(v) => Ok(Some(bool::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }

    /// Identifies the sku name of the account
    fn sku_name(&self) -> Result<Option<SkuName>> {
        match self.headers().get_optional_string(&XMSSKUNAMEHEADER) {
            Some(v) => Ok(Some(SkuName::from_str(&v)?)),
            None => Ok(None),
        }
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::set_properties()`](crate::clients::BlobServiceClient::set_properties())
pub trait BlobServiceClientSetPropertiesResultHeaders: private::Sealed {
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobServiceClientSetPropertiesResultHeaders
    for Response<BlobServiceClientSetPropertiesResult>
{
    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::submit_batch()`](crate::clients::BlobServiceClient::submit_batch())
pub trait BlobServiceClientSubmitBatchResultHeaders: private::Sealed {
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobServiceClientSubmitBatchResultHeaders for Response<BlobServiceClientSubmitBatchResult> {
    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlobClient::get_tags()`](crate::clients::BlobBlobClient::get_tags())
pub trait BlobTagsHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlobTagsHeaders for Response<BlobTags> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobBlockBlobClient::get_block_list()`](crate::clients::BlobBlockBlobClient::get_block_list())
pub trait BlockLookupListHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_content_length(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl BlockLookupListHeaders for Response<BlockLookupList> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// This header specifies the maximum size for the page blob, up to 1 TB. The page blob size must be aligned to a 512-byte
    /// boundary.
    fn blob_content_length(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCONTENTLENGTHHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::filter_blobs()`](crate::clients::BlobContainerClient::filter_blobs())
pub trait FilterBlobSegmentHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl FilterBlobSegmentHeaders for Response<FilterBlobSegment> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::list_blob_flat_segment()`](crate::clients::BlobContainerClient::list_blob_flat_segment())
pub trait ListBlobsFlatSegmentResponseHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl ListBlobsFlatSegmentResponseHeaders for Response<ListBlobsFlatSegmentResponse> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::list_blob_hierarchy_segment()`](crate::clients::BlobContainerClient::list_blob_hierarchy_segment())
pub trait ListBlobsHierarchySegmentResponseHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl ListBlobsHierarchySegmentResponseHeaders for Response<ListBlobsHierarchySegmentResponse> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::list_containers_segment()`](crate::clients::BlobServiceClient::list_containers_segment())
pub trait ListContainersSegmentResponseHeaders: private::Sealed {
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl ListContainersSegmentResponseHeaders for Response<ListContainersSegmentResponse> {
    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobPageBlobClient::get_page_ranges()`](crate::clients::BlobPageBlobClient::get_page_ranges())
pub trait PageListHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn blob_content_length(&self) -> Result<Option<i64>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl PageListHeaders for Response<PageList> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// This header specifies the maximum size for the page blob, up to 1 TB. The page blob size must be aligned to a 512-byte
    /// boundary.
    fn blob_content_length(&self) -> Result<Option<i64>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBCONTENTLENGTHHEADER)
        {
            Some(v) => Ok(Some(i64::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::get_properties()`](crate::clients::BlobServiceClient::get_properties())
pub trait StorageServicePropertiesHeaders: private::Sealed {
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl StorageServicePropertiesHeaders for Response<StorageServiceProperties> {
    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::get_statistics()`](crate::clients::BlobServiceClient::get_statistics())
pub trait StorageServiceStatsHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl StorageServiceStatsHeaders for Response<StorageServiceStats> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobServiceClient::get_user_delegation_key()`](crate::clients::BlobServiceClient::get_user_delegation_key())
pub trait UserDelegationKeyHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl UserDelegationKeyHeaders for Response<UserDelegationKey> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

/// Provides access to typed response headers for [`BlobContainerClient::get_access_policy()`](crate::clients::BlobContainerClient::get_access_policy())
pub trait VecSignedIdentifierHeaders: private::Sealed {
    fn date(&self) -> Result<Option<String>>;
    fn e_tag(&self) -> Result<Option<String>>;
    fn last_modified(&self) -> Result<Option<String>>;
    fn access(&self) -> Result<Option<PublicAccessType>>;
    fn client_request_id(&self) -> Result<Option<String>>;
    fn request_id(&self) -> Result<Option<String>>;
}

impl VecSignedIdentifierHeaders for Response<Vec<SignedIdentifier>> {
    /// UTC date/time value generated by the service that indicates the time at which the response was initiated
    fn date(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&DATEHEADER))
    }

    /// The ETag contains a value that you can use to perform operations conditionally.
    fn e_tag(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&ETAGHEADER))
    }

    /// The date/time that the container was last modified.
    fn last_modified(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&LASTMODIFIEDHEADER))
    }

    /// The public access setting for the container.
    fn access(&self) -> Result<Option<PublicAccessType>> {
        match self
            .headers()
            .get_optional_string(&XMSBLOBPUBLICACCESSHEADER)
        {
            Some(v) => Ok(Some(PublicAccessType::from_str(&v)?)),
            None => Ok(None),
        }
    }

    /// An opaque, globally-unique, client-generated string identifier for the request.
    fn client_request_id(&self) -> Result<Option<String>> {
        Ok(self
            .headers()
            .get_optional_string(&XMSCLIENTREQUESTIDHEADER))
    }

    /// An opaque, globally-unique, server-generated string identifier for the request.
    fn request_id(&self) -> Result<Option<String>> {
        Ok(self.headers().get_optional_string(&XMSREQUESTIDHEADER))
    }
}

mod private {
    use crate::models::{
        BlobAppendBlobClientAppendBlockFromUrlResult, BlobAppendBlobClientAppendBlockResult,
        BlobAppendBlobClientCreateResult, BlobAppendBlobClientSealResult,
        BlobBlobClientAbortCopyFromUrlResult, BlobBlobClientAcquireLeaseResult,
        BlobBlobClientBreakLeaseResult, BlobBlobClientChangeLeaseResult,
        BlobBlobClientCopyFromUrlResult, BlobBlobClientCreateSnapshotResult,
        BlobBlobClientDeleteImmutabilityPolicyResult, BlobBlobClientDeleteResult,
        BlobBlobClientDownloadResult, BlobBlobClientGetAccountInfoResult,
        BlobBlobClientGetPropertiesResult, BlobBlobClientReleaseLeaseResult,
        BlobBlobClientRenewLeaseResult, BlobBlobClientSetExpiryResult,
        BlobBlobClientSetHttpHeadersResult, BlobBlobClientSetImmutabilityPolicyResult,
        BlobBlobClientSetLegalHoldResult, BlobBlobClientSetMetadataResult,
        BlobBlobClientSetTagsResult, BlobBlobClientSetTierResult,
        BlobBlobClientStartCopyFromUrlResult, BlobBlobClientUndeleteResult,
        BlobBlockBlobClientCommitBlockListResult, BlobBlockBlobClientPutBlobFromUrlResult,
        BlobBlockBlobClientQueryResult, BlobBlockBlobClientStageBlockFromUrlResult,
        BlobBlockBlobClientStageBlockResult, BlobBlockBlobClientUploadResult,
        BlobContainerClientAcquireLeaseResult, BlobContainerClientBreakLeaseResult,
        BlobContainerClientChangeLeaseResult, BlobContainerClientCreateResult,
        BlobContainerClientDeleteResult, BlobContainerClientGetAccountInfoResult,
        BlobContainerClientGetPropertiesResult, BlobContainerClientReleaseLeaseResult,
        BlobContainerClientRenameResult, BlobContainerClientRenewLeaseResult,
        BlobContainerClientRestoreResult, BlobContainerClientSetAccessPolicyResult,
        BlobContainerClientSetMetadataResult, BlobContainerClientSubmitBatchResult,
        BlobPageBlobClientClearPagesResult, BlobPageBlobClientCopyIncrementalResult,
        BlobPageBlobClientCreateResult, BlobPageBlobClientResizeResult,
        BlobPageBlobClientUpdateSequenceNumberResult, BlobPageBlobClientUploadPagesFromUrlResult,
        BlobPageBlobClientUploadPagesResult, BlobServiceClientGetAccountInfoResult,
        BlobServiceClientSetPropertiesResult, BlobServiceClientSubmitBatchResult, BlobTags,
        BlockLookupList, FilterBlobSegment, ListBlobsFlatSegmentResponse,
        ListBlobsHierarchySegmentResponse, ListContainersSegmentResponse, PageList,
        SignedIdentifier, StorageServiceProperties, StorageServiceStats, UserDelegationKey,
    };
    use azure_core::Response;

    pub trait Sealed {}

    impl Sealed for Response<BlobAppendBlobClientAppendBlockFromUrlResult> {}
    impl Sealed for Response<BlobAppendBlobClientAppendBlockResult> {}
    impl Sealed for Response<BlobAppendBlobClientCreateResult> {}
    impl Sealed for Response<BlobAppendBlobClientSealResult> {}
    impl Sealed for Response<BlobBlobClientAbortCopyFromUrlResult> {}
    impl Sealed for Response<BlobBlobClientAcquireLeaseResult> {}
    impl Sealed for Response<BlobBlobClientBreakLeaseResult> {}
    impl Sealed for Response<BlobBlobClientChangeLeaseResult> {}
    impl Sealed for Response<BlobBlobClientCopyFromUrlResult> {}
    impl Sealed for Response<BlobBlobClientCreateSnapshotResult> {}
    impl Sealed for Response<BlobBlobClientDeleteImmutabilityPolicyResult> {}
    impl Sealed for Response<BlobBlobClientDeleteResult> {}
    impl Sealed for Response<BlobBlobClientDownloadResult> {}
    impl Sealed for Response<BlobBlobClientGetAccountInfoResult> {}
    impl Sealed for Response<BlobBlobClientGetPropertiesResult> {}
    impl Sealed for Response<BlobBlobClientReleaseLeaseResult> {}
    impl Sealed for Response<BlobBlobClientRenewLeaseResult> {}
    impl Sealed for Response<BlobBlobClientSetExpiryResult> {}
    impl Sealed for Response<BlobBlobClientSetHttpHeadersResult> {}
    impl Sealed for Response<BlobBlobClientSetImmutabilityPolicyResult> {}
    impl Sealed for Response<BlobBlobClientSetLegalHoldResult> {}
    impl Sealed for Response<BlobBlobClientSetMetadataResult> {}
    impl Sealed for Response<BlobBlobClientSetTagsResult> {}
    impl Sealed for Response<BlobBlobClientSetTierResult> {}
    impl Sealed for Response<BlobBlobClientStartCopyFromUrlResult> {}
    impl Sealed for Response<BlobBlobClientUndeleteResult> {}
    impl Sealed for Response<BlobBlockBlobClientCommitBlockListResult> {}
    impl Sealed for Response<BlobBlockBlobClientPutBlobFromUrlResult> {}
    impl Sealed for Response<BlobBlockBlobClientQueryResult> {}
    impl Sealed for Response<BlobBlockBlobClientStageBlockFromUrlResult> {}
    impl Sealed for Response<BlobBlockBlobClientStageBlockResult> {}
    impl Sealed for Response<BlobBlockBlobClientUploadResult> {}
    impl Sealed for Response<BlobContainerClientAcquireLeaseResult> {}
    impl Sealed for Response<BlobContainerClientBreakLeaseResult> {}
    impl Sealed for Response<BlobContainerClientChangeLeaseResult> {}
    impl Sealed for Response<BlobContainerClientCreateResult> {}
    impl Sealed for Response<BlobContainerClientDeleteResult> {}
    impl Sealed for Response<BlobContainerClientGetAccountInfoResult> {}
    impl Sealed for Response<BlobContainerClientGetPropertiesResult> {}
    impl Sealed for Response<BlobContainerClientReleaseLeaseResult> {}
    impl Sealed for Response<BlobContainerClientRenameResult> {}
    impl Sealed for Response<BlobContainerClientRenewLeaseResult> {}
    impl Sealed for Response<BlobContainerClientRestoreResult> {}
    impl Sealed for Response<BlobContainerClientSetAccessPolicyResult> {}
    impl Sealed for Response<BlobContainerClientSetMetadataResult> {}
    impl Sealed for Response<BlobContainerClientSubmitBatchResult> {}
    impl Sealed for Response<BlobPageBlobClientClearPagesResult> {}
    impl Sealed for Response<BlobPageBlobClientCopyIncrementalResult> {}
    impl Sealed for Response<BlobPageBlobClientCreateResult> {}
    impl Sealed for Response<BlobPageBlobClientResizeResult> {}
    impl Sealed for Response<BlobPageBlobClientUpdateSequenceNumberResult> {}
    impl Sealed for Response<BlobPageBlobClientUploadPagesFromUrlResult> {}
    impl Sealed for Response<BlobPageBlobClientUploadPagesResult> {}
    impl Sealed for Response<BlobServiceClientGetAccountInfoResult> {}
    impl Sealed for Response<BlobServiceClientSetPropertiesResult> {}
    impl Sealed for Response<BlobServiceClientSubmitBatchResult> {}
    impl Sealed for Response<BlobTags> {}
    impl Sealed for Response<BlockLookupList> {}
    impl Sealed for Response<FilterBlobSegment> {}
    impl Sealed for Response<ListBlobsFlatSegmentResponse> {}
    impl Sealed for Response<ListBlobsHierarchySegmentResponse> {}
    impl Sealed for Response<ListContainersSegmentResponse> {}
    impl Sealed for Response<PageList> {}
    impl Sealed for Response<StorageServiceProperties> {}
    impl Sealed for Response<StorageServiceStats> {}
    impl Sealed for Response<UserDelegationKey> {}
    impl Sealed for Response<Vec<SignedIdentifier>> {}
}
