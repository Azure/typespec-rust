// Copyright (c) Microsoft Corporation. All rights reserved.
//
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) Rust Code Generator. DO NOT EDIT.

use super::{
    DatetimeResponseHeaderClientDefaultResult, DatetimeResponseHeaderClientRfc3339Result,
    DatetimeResponseHeaderClientRfc7231Result, DatetimeResponseHeaderClientUnixTimestampResult,
};
use azure_core::{
    http::{
        headers::{HeaderName, Headers},
        NoFormat, Response,
    },
    time::{parse_rfc3339, parse_rfc7231, parse_unix_time, OffsetDateTime},
    Result,
};

const VALUE: HeaderName = HeaderName::from_static("value");

/// Provides access to typed response headers for [`DatetimeResponseHeaderClient::default()`](crate::generated::clients::DatetimeResponseHeaderClient::default())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::{Response, NoFormat}};
/// use spector_datetime::models::{DatetimeResponseHeaderClientDefaultResult, DatetimeResponseHeaderClientDefaultResultHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<DatetimeResponseHeaderClientDefaultResult, NoFormat> = unimplemented!();
///     // Access response headers
///     if let Some(value) = response.value()? {
///         println!("value: {:?}", value);
///     }
///     Ok(())
/// }
/// ```
pub trait DatetimeResponseHeaderClientDefaultResultHeaders: private::Sealed {
    fn value(&self) -> Result<Option<OffsetDateTime>>;
}

impl DatetimeResponseHeaderClientDefaultResultHeaders
    for Response<DatetimeResponseHeaderClientDefaultResult, NoFormat>
{
    fn value(&self) -> Result<Option<OffsetDateTime>> {
        Headers::get_optional_with(self.headers(), &VALUE, |h| parse_rfc7231(h.as_str()))
    }
}

/// Provides access to typed response headers for [`DatetimeResponseHeaderClient::rfc3339()`](crate::generated::clients::DatetimeResponseHeaderClient::rfc3339())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::{Response, NoFormat}};
/// use spector_datetime::models::{DatetimeResponseHeaderClientRfc3339Result, DatetimeResponseHeaderClientRfc3339ResultHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<DatetimeResponseHeaderClientRfc3339Result, NoFormat> = unimplemented!();
///     // Access response headers
///     if let Some(value) = response.value()? {
///         println!("value: {:?}", value);
///     }
///     Ok(())
/// }
/// ```
pub trait DatetimeResponseHeaderClientRfc3339ResultHeaders: private::Sealed {
    fn value(&self) -> Result<Option<OffsetDateTime>>;
}

impl DatetimeResponseHeaderClientRfc3339ResultHeaders
    for Response<DatetimeResponseHeaderClientRfc3339Result, NoFormat>
{
    fn value(&self) -> Result<Option<OffsetDateTime>> {
        Headers::get_optional_with(self.headers(), &VALUE, |h| parse_rfc3339(h.as_str()))
    }
}

/// Provides access to typed response headers for [`DatetimeResponseHeaderClient::rfc7231()`](crate::generated::clients::DatetimeResponseHeaderClient::rfc7231())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::{Response, NoFormat}};
/// use spector_datetime::models::{DatetimeResponseHeaderClientRfc7231Result, DatetimeResponseHeaderClientRfc7231ResultHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<DatetimeResponseHeaderClientRfc7231Result, NoFormat> = unimplemented!();
///     // Access response headers
///     if let Some(value) = response.value()? {
///         println!("value: {:?}", value);
///     }
///     Ok(())
/// }
/// ```
pub trait DatetimeResponseHeaderClientRfc7231ResultHeaders: private::Sealed {
    fn value(&self) -> Result<Option<OffsetDateTime>>;
}

impl DatetimeResponseHeaderClientRfc7231ResultHeaders
    for Response<DatetimeResponseHeaderClientRfc7231Result, NoFormat>
{
    fn value(&self) -> Result<Option<OffsetDateTime>> {
        Headers::get_optional_with(self.headers(), &VALUE, |h| parse_rfc7231(h.as_str()))
    }
}

/// Provides access to typed response headers for [`DatetimeResponseHeaderClient::unix_timestamp()`](crate::generated::clients::DatetimeResponseHeaderClient::unix_timestamp())
///
/// # Examples
///
/// ```no_run
/// use azure_core::{Result, http::{Response, NoFormat}};
/// use spector_datetime::models::{DatetimeResponseHeaderClientUnixTimestampResult, DatetimeResponseHeaderClientUnixTimestampResultHeaders};
/// async fn example() -> Result<()> {
///     let response: Response<DatetimeResponseHeaderClientUnixTimestampResult, NoFormat> = unimplemented!();
///     // Access response headers
///     if let Some(value) = response.value()? {
///         println!("value: {:?}", value);
///     }
///     Ok(())
/// }
/// ```
pub trait DatetimeResponseHeaderClientUnixTimestampResultHeaders: private::Sealed {
    fn value(&self) -> Result<Option<OffsetDateTime>>;
}

impl DatetimeResponseHeaderClientUnixTimestampResultHeaders
    for Response<DatetimeResponseHeaderClientUnixTimestampResult, NoFormat>
{
    fn value(&self) -> Result<Option<OffsetDateTime>> {
        Headers::get_optional_with(self.headers(), &VALUE, |h| parse_unix_time(h.as_str()))
    }
}

mod private {
    use super::{
        DatetimeResponseHeaderClientDefaultResult, DatetimeResponseHeaderClientRfc3339Result,
        DatetimeResponseHeaderClientRfc7231Result, DatetimeResponseHeaderClientUnixTimestampResult,
    };
    use azure_core::http::{NoFormat, Response};

    pub trait Sealed {}

    impl Sealed for Response<DatetimeResponseHeaderClientDefaultResult, NoFormat> {}
    impl Sealed for Response<DatetimeResponseHeaderClientRfc3339Result, NoFormat> {}
    impl Sealed for Response<DatetimeResponseHeaderClientRfc7231Result, NoFormat> {}
    impl Sealed for Response<DatetimeResponseHeaderClientUnixTimestampResult, NoFormat> {}
}
